<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy Anniversary, My Love🥰</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%; height: 100%;
      font-family: 'Segoe UI', sans-serif;
      background-color: #fff0f5;
      overflow-x: hidden; /* allow vertical scroll if needed */
    }
    .page {
      position: relative;
      min-height: 100vh;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      transition: opacity 1s ease-in-out, transform 1s ease-in-out;
      padding: 20px;
    }
    .hidden {
      opacity: 0;
      transform: scale(0.95);
      pointer-events: none;
      z-index: 0;
      position: absolute;
      top: 0; left: 0;
      width: 100%;
    }
    .visible {
      opacity: 1;
      transform: scale(1);
      z-index: 2;
    }
    .btn {
      padding: 15px 30px;
      font-size: 1.2rem;
      background: #ff69b4;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-top: 20px;
    }
    .btn:hover { background: #ff1493; }
    .content-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 5;
      max-width: 90%;
      width: 100%;
    }
    .message {
      font-size: 1.5rem;
      background: rgba(255,255,255,0.8);
      padding: 20px;
      border-radius: 20px;
      text-align: center;
      margin-bottom: 20px;
      max-width: 800px;
      word-wrap: break-word;
    }
    .shape {
      position: absolute;
      width: 80%; height: 50%; top: 25%; left: 10%;
      background: rgba(255,192,203,0.2);
      border-radius: 60px;
      z-index: 1;
    }
    .background-loves {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 0;
      overflow: hidden;
      pointer-events: none;
    }
    .love {
      position: absolute;
      width: 20px; height: 20px;
      background: red;
      transform: rotate(45deg);
      animation: float 10s infinite;
    }
    .love::before, .love::after {
      content: "";
      position: absolute;
      width: 20px; height: 20px;
      background: red;
      border-radius: 50%;
    }
    .love::before { top: -10px; left: 0; }
    .love::after { left: -10px; top: 0; }
    @keyframes float {
      0%   { transform: translateY(100vh) rotate(0deg); opacity: 1; }
      100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
    }
    .polaroid-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin: 20px 0;
      z-index: 2;
      position: relative;
    }
    .polaroid {
      background: white;
      border: 8px solid white;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      width: 200px;
      max-width: 90%;
      height: auto;
      object-fit: cover;
      transform: rotate(var(--angle, 0deg));
      transition: transform 0.3s ease;
      cursor: pointer;
    }
    .polaroid:hover {
      transform: scale(1.05) rotate(var(--angle, 0deg));
    }
    .preview-modal {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      display: none;
      align-items: center; justify-content: center;
      z-index: 100;
    }
    .preview-modal img {
      max-width: 90%; max-height: 90%;
      box-shadow: 0 0 20px rgba(255,255,255,0.8);
      border-radius: 10px;
    }
    .close-preview {
      position: absolute; top: 20px; right: 30px;
      font-size: 2rem; color: white;
      background: none; border: none; cursor: pointer;
      z-index: 101;
    }
    #music-wrapper {
      position: fixed;
      bottom: 20px; right: 20px;
      display: flex; align-items: center; gap: 10px;
      z-index: 999;
      background: rgba(255, 105, 180, 0.9);
      padding: 8px 12px;
      border-radius: 30px;
      color: white;
      font-size: 1rem;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    #music-control {
      background: none;
      border: none;
      font-size: 1.5rem;
      color: white;
      cursor: pointer;
    }
    #music-control:hover { color: #ffe6f0; }
    @media (max-width: 768px) {
      .message { font-size: 1.1rem; padding: 15px; }
      .btn { font-size: 1rem; padding: 12px 25px; }
      .polaroid { width: 45%; }
    }
    @media (max-width: 480px) {
      .message { font-size: 1rem; }
      .polaroid { width: 80%; }
    }
  </style>
</head>
<body>

<audio id="click-sound" src="https://www.soundjay.com/buttons/sounds/button-29.mp3" preload="auto"></audio>
<audio id="bg-music" src="Paul Partohap - THANK YOU 4 LOVIN' ME (Lyric Video) - paul partohap.mp3" loop></audio>

<div class="background-loves"></div>

<div id="page1" class="page visible">
  <div class="content-wrapper">
    <h1 style="font-size: 2.5rem; text-align: center; color: #ff1493; margin-bottom: 20px;">
      Happy Anniversary, My Love 🥰🎉🎉!
    </h1>
    <button class="btn" onclick="nextPageWrapper(1)">Next</button>
  </div>
</div>

<div class="preview-modal" id="previewModal">
  <button class="close-preview" onclick="closePreview()">×</button>
  <img id="previewImage" src="" alt="Preview" />
</div>

<div id="music-wrapper">
  <button id="music-control" onclick="toggleMusic()">🔈</button>
  <span style="font-size: 0.9rem;">Paul Partohap - Thank You 4 Lovin' Me</span>
</div>

<script>
  const loveContainer = document.querySelector('.background-loves');
  for (let i = 0; i < 40; i++) {
    const heart = document.createElement('div');
    heart.className = 'love';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDelay = Math.random() * 10 + 's';
    loveContainer.appendChild(heart);
  }

  const messages = [
    "Happy Anniversary, my love💖🎉. Can you believe it’s already been a year? When I think about it, we’ve been through so much together. Honestly, I never imagined we’d make it this far. Yeah… even though our relationship hasn’t always been full of happy-happy moments, I’m still so glad I have you. Honestly, maybe this past year hasn’t been the greatest. We’ve argued a lot, we’ve talked less, and honestly, it feels like we’ve fought more than we’ve talked. I’m not blaming either of us. We both have our own lives, our own goals we need to chase, and different levels of ego — it’s all pretty normal, I guess. What’s clear is that I’m still comfortable with you, and I loooooove you so, so much. I hope in the future we can understand each other more, be more caring, love each other even more, lower our egos for each other, feel like we truly need each other — basically, just more of all the good stuff. Even though we’ve got an age gap, I hope I can still relate to what you’re feeling..",
    "I’m really, really sorry. As your boyfriend, I’ve often made you uncomfortable — whether it’s because of my ego, my lack of understanding, or whatever it might be. Honestly, I still have so many flaws 😔. There are probably a lot of things I can’t do, or haven’t been able to give you yet. I sincerely apologize for hurting you, for not being able to make you truly happy yet, for not fully being your support system. I’ve made you feel jealous of other couples — whether because of my shortcomings, my situation, or something else. I try my best, but if it’s still not enough, I’m really sorry. I’m not yet romantic, not funny, definitely not handsome, I haven’t been able to take you on unique dates. Basically, I apologize for all my mistakes and shortcomings",
    "Oh, by the way, I brought you roses 😗. They’re just simple roses, nothing super fancy, but I wanted to give you something that at least felt a bit more romantic this time. I was going to buy something else, like a digital camera, but I was worried you wouldn’t like it and it would just sit there. But if you ever want that later, I’ll get it for you. From everything you might need right now, honestly, I didn’t know what to pick. Oh yeah babe, sorry if I’m not great at matching gifts with the moment. I kept thinking, maybe something useful would be better — so it wouldn’t go to waste. But after I thought about it, I realized: why not just get something simple and romantic for once, like flowers? They don’t last forever, but at least they say what I feel. Honestly, I feel a bit awkward as a boyfriend sometimes — like, I overthink gifts and then they end up being not-so-romantic. But I hope these roses at least make you smile and feel loved. If you get a chance, don’t forget to smell them — I picked them hoping they’d be fresh and pretty, haha.",
    "By the way, cool message, right? haha. I spent some time putting this together — didn’t want to just write anything random, so I tried to make it special for today. You can even click on the photos, hehe 😗. I honestly don’t know how to be romantic, so I just want to say that I’m happy with you. You’re mature (even if your mood changes a lot), you’re amazing, hardworking, beautiful, cute — you’ve just got so many great qualities, and I’m so grateful to have you 🤗💗. Love you sooooooooooooooooooooooo much 🤗💗💖"
  ];

  const photoSets = [
    ['photo1.jpg.jpg', 'IMG_6952.JPG', 'IMG_6847.JPG', 'IMG-20250907-WA0014.jpg', 'IMG-20250907-WA0012.jpg', 'IMG_7500.JPG'],
    ['IMG-20250907-WA0007.jpg', 'IMG-20250907-WA0009.jpg', 'IMG-20250907-WA0010.jpg', 'IMG-20250907-WA0011.jpg', 'IMG-20250907-WA0013.jpg'],
    ['download (1).jpg', 'download (2).jpg', 'download (3).jpg', 'download (4).jpg', 'download (5).jpg', 'download (6).jpg'],
    ['IMG-20250907-WA0040.jpg', 'IMG-20250907-WA0041.jpg', 'IMG-20250907-WA0042.jpg', 'IMG-20250907-WA0043.jpg', 'IMG-20250907-WA0045.jpg', 'IMG-20250907-WA0046.jpg']
  ];

  messages.forEach((msg, i) => {
    const page = document.createElement('div');
    page.className = 'page hidden';
    page.id = `page${i + 2}`;

    const wrapper = document.createElement('div');
    wrapper.className = 'content-wrapper';

    const message = document.createElement('div');
    message.className = 'message';
    message.innerText = msg;
    
    const container = document.createElement('div');
    container.className = 'polaroid-container';

    photoSets[i].forEach(src => {
      const img = document.createElement('img');
      img.src = src;
      img.className = 'polaroid';
      img.style.setProperty('--angle', `${Math.random() * 5 - 2.5}deg`);
      img.onclick = () => showPreview(src);
      container.appendChild(img);
    });

    const btn = document.createElement('button');
    btn.className = 'btn';
    btn.innerText = i < messages.length - 1 ? 'Next' : 'Finish';
    btn.onclick = () => nextPageWrapper(i + 2);

    wrapper.appendChild(message);
    wrapper.appendChild(container); // Foto di dalam wrapper
    wrapper.appendChild(btn);

    const shape = document.createElement('div');
    shape.className = 'shape';
    
    page.appendChild(shape);
    page.appendChild(wrapper); // Wrapper sekarang anak dari page
    document.body.appendChild(page);
  });

  const lastPage = document.createElement('div');
  lastPage.className = 'page hidden';
  lastPage.id = 'page6';

  const wrapper6 = document.createElement('div');
  wrapper6.className = 'content-wrapper';

  const thx = document.createElement('h2');
  thx.id = 'thx'; // ID untuk styling
  thx.innerText = 'Thank you so much for accepting me and staying with me all this time. If we’re really meant to be, we can keep going together as a couple. If we’re not, at least I’m grateful that I got to be with you and be loved by you all this time ❤. I hope that whatever happens in the future, you’ll always be happy living your life, all your goals will come true — I’ll always support you no matter what. So… don’t leave me, okay? So there’s always someone to be with you, hehe😚💗😘';
  thx.style.color = '#d63384';
  thx.style.marginBottom = '20px';
  thx.style.textAlign = 'center';

  const stopBtn = document.createElement('button');
  stopBtn.className = 'btn';
  stopBtn.innerText = 'Finish ❤️';
  stopBtn.onclick = () => alert('I hope that we will always be together, loving each other forever.');

  wrapper6.appendChild(thx);
  wrapper6.appendChild(stopBtn);
  lastPage.appendChild(wrapper6);
  document.body.appendChild(lastPage);

  let currentPage = 1;
  let musicStarted = false;

  function nextPageWrapper(n) {
      const clickSound = document.getElementById('click-sound');
      const bgMusic = document.getElementById('bg-music');
      
      clickSound.play();

      if (!musicStarted) {
          bgMusic.play().then(() => {
              musicStarted = true;
          }).catch(error => {
              console.log("Autoplay was prevented. User interaction is needed.");
          });
      }

      const currentEl = document.getElementById(`page${currentPage}`);
      const nextEl = document.getElementById(`page${n}`);

      if (currentEl) {
        currentEl.classList.remove('visible');
        currentEl.classList.add('hidden');
      }
      if (nextEl) {
        nextEl.classList.remove('hidden');
        nextEl.classList.add('visible');
        // Scroll ke atas saat pindah halaman di mobile
        nextEl.scrollTop = 0;
      }
      currentPage = n;
  }

  // Ganti onclick pertama ke fungsi wrapper ini
  function nextPage(pageNumber) {
    const targetPage = pageNumber === 5 ? 6 : pageNumber + 1;
    nextPageWrapper(targetPage);
  }
   // Mengganti fungsi `nextPage` asli menjadi lebih baik
   document.querySelector('#page1 .btn').onclick = () => nextPage(1);
   document.querySelectorAll('.page .btn').forEach(btn => {
        // Ini akan menimpa onclick sebelumnya, jadi kita harus lebih spesifik
   });

   // Setup tombol secara eksplisit
   function setupButtons() {
        document.querySelector('#page1 .btn').onclick = () => nextPageWrapper(2);
        for(let i = 2; i <= 5; i++) {
            const pageBtn = document.querySelector(`#page${i} .btn`);
            if (pageBtn) {
                const nextPageNum = (i < 5) ? i + 1 : 6;
                pageBtn.onclick = () => nextPageWrapper(nextPageNum);
            }
        }
   }


  function showPreview(src) {
    const modal = document.getElementById('previewModal');
    const img = document.getElementById('previewImage');
    img.src = src;
    modal.style.display = 'flex';
  }

  function closePreview() {
    document.getElementById('previewModal').style.display = 'none';
  }

  document.getElementById('previewModal').addEventListener('click', function(e) {
    if (e.target === this) closePreview();
  });

  function toggleMusic() {
    const bgMusic = document.getElementById('bg-music');
    const btn = document.getElementById('music-control');
    if (bgMusic.paused) {
      bgMusic.play();
      btn.textContent = '🔈';
    } else {
      bgMusic.pause();
      btn.textContent = '🔇';
    }
  }

  window.addEventListener('DOMContentLoaded', () => {
    const bgMusic = document.getElementById('bg-music');
    bgMusic.volume = 0.5;
    
    // Hapus autoplay, biarkan user yang memulai musik
    bgMusic.removeAttribute('autoplay');
    
    // Ganti logika tombol
    setupButtons();
  });

</script>
</body>
</html>